{"version":3,"file":"08-deployment-CP0iJp09.js","sources":["../../pages/08-deployment.md"],"sourcesContent":["# 08 â€“ Deployment\r\n\r\n## VPS Checklist\r\n\r\n### 1. Server Requirements\r\n\r\n- PHP 8.2+\r\n- Composer\r\n- Node.js & NPM\r\n- SQLite or MySQL/PostgreSQL\r\n- Web server (Apache/Nginx)\r\n\r\n### 2. Deploy Code\r\n\r\n```bash\r\ncd /var/www/your-app\r\ngit pull origin main\r\ncomposer install --no-dev --optimize-autoloader\r\nnpm ci\r\nnpm run build\r\n```\r\n\r\n### 3. Environment\r\n\r\n- Copy `.env.example` to `.env` (if not exists)\r\n- Set `APP_ENV=production`, `APP_DEBUG=false`\r\n- Set `APP_URL` to your domain\r\n- Configure all API keys\r\n\r\n### 4. Google Credentials\r\n\r\n- Place `google-service-account.json` in `storage/app/`\r\n- Or set `GOOGLE_SERVICE_ACCOUNT_JSON` (base64)\r\n- Set `GOOGLE_CLOUD_PROJECT_ID`\r\n\r\n### 5. Database\r\n\r\n```bash\r\nphp artisan migrate --force\r\n```\r\n\r\n### 6. Storage\r\n\r\n```bash\r\nphp artisan storage:link\r\n```\r\n\r\n### 7. Cache & Config\r\n\r\n```bash\r\nphp artisan config:cache\r\nphp artisan route:cache\r\nphp artisan view:cache\r\n```\r\n\r\n### 8. Queue Worker\r\n\r\nRun via **supervisor** or **systemd**:\r\n\r\n```bash\r\nphp artisan queue:work database --timeout=600 --tries=3 --memory=512 --sleep=3\r\n```\r\n\r\nExample supervisor config:\r\n\r\n```ini\r\n[program:laravel-worker]\r\ncommand=php /var/www/your-app/artisan queue:work database --timeout=600 --sleep=3 --tries=3\r\ndirectory=/var/www/your-app\r\nautostart=true\r\nautorestart=true\r\nuser=www-data\r\n```\r\n\r\n### 9. Web Server\r\n\r\n- Point document root to `public/`\r\n- Ensure `storage` and `bootstrap/cache` are writable\r\n\r\n### 10. Logs\r\n\r\n- `storage/logs/laravel.log`\r\n- Use `tail -f storage/logs/laravel.log` for debugging\r\n\r\n### 11. Stripe Webhook\r\n\r\n- Configure webhook URL: `https://yourdomain.com/webhook/stripe`\r\n- Event: `checkout.session.completed`\r\n- Set `STRIPE_WEBHOOK_SECRET` in `.env`\r\n"],"names":["_jsx","_components"],"mappings":"gkCAAE,SAAA;iCAEC,SAAA;yCAEC,SAAA;;cAEF,SAAA;cACA,SAAA;cACA,SAAA;cACA,SAAA;cACA,SAAA;;iCAEE,SAAA;;;;;;iCAUA,SAAA;;eAEF,SAAA,CAAA,QAAAA,MAAAC,EAAA,KAAA,eAAK,SAAA,cAAc,CAAA,EAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA,MAAM,CAAA,EAAA,kBAAA;eAC7B,SAAA,CAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA,oBAAoB,CAAA,EAAA,KAAAD,MAAAC,EAAA,KAAA,eAAE,SAAA;eAC1B,SAAA,CAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA,SAAS,CAAA,EAAA,iBAAA;cACb,SAAA;;wCAEE,SAAA;;eAEF,SAAA,CAAA,SAAAD,MAAAC,EAAA,KAAA,eAAM,SAAA,6BAA6B,CAAA,EAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA;eACvC,SAAA,CAAA,UAAAD,MAAAC,EAAA,KAAA,eAAO,SAAA,6BAA6B,CAAA,EAAA,WAAA;eACpC,SAAA,CAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA;;8BAEF,SAAA;;6BAMA,SAAA;;mCAMA,SAAA;;;;kCAQA,SAAA;cAEJ,SAAA,CAAA,WAAAD,MAAAC,EAAA,OAAA,CAAU,SAAA,YAAY,CAAA,EAAA,OAAAD,MAAAC,EAAA,OAAA,CAAM,SAAA,SAAS,CAAA,EAAA,GAAA;;aAMrC,SAAA;;;;;;;gCAWI,SAAA;;eAEF,SAAA,CAAA,0BAAAD,MAAAC,EAAA,KAAA,eAAuB,SAAA;eACvB,SAAA,CAAA,UAAAD,MAAAC,EAAA,KAAA,eAAO,SAAA,SAAS,CAAA,EAAA,QAAAD,MAAAC,EAAA,KAAA,eAAK,SAAA,iBAAiB,CAAA,EAAA,eAAA;;2BAEpC,SAAA;;mDAEF,SAAA;eACA,SAAA,CAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA,kCAAkC,CAAA,EAAA,gBAAA;;qCAEpC,SAAA;;eAEF,SAAA,CAAA,0BAAAD,MAAAC,EAAA,KAAA,eAAuB,SAAA;eACvB,SAAA,CAAA,UAAAD,MAAAC,EAAA,KAAA,eAAO,SAAA;eACP,SAAA,CAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA,uBAAuB,CAAA,EAAA,OAAAD,MAAAC,EAAA,KAAA,eAAI,SAAA;"}