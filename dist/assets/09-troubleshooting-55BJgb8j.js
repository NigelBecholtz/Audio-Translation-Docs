import{p as t,j as e}from"./entry.client-CAKTKa86.js";const r="Cause: Vertex AI API not enabled in Google Cloud.",o=[{depth:1,text:"09 – Troubleshooting",id:"09--troubleshooting",children:[{depth:2,text:"Common Errors",id:"common-errors",children:[{depth:3,text:"1. Vertex AI API has not been used in project ... before or it is disabled",rich:[{type:"text",value:"1. ",position:{start:{line:5,column:5,offset:50},end:{line:5,column:8,offset:53}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"Vertex AI API has not been used in project ... before or it is disabled",position:{start:{line:5,column:8,offset:53},end:{line:5,column:81,offset:126}}}],position:{start:{line:5,column:8,offset:53},end:{line:5,column:81,offset:126}}}],id:"1-vertex-ai-api-has-not-been-used-in-project--before-or-it-is-disabled"},{depth:3,text:"2. cURL error 28: Operation timed out after 120002 milliseconds with 0 bytes received",rich:[{type:"text",value:"2. ",position:{start:{line:13,column:5,offset:287},end:{line:13,column:8,offset:290}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"cURL error 28: Operation timed out after 120002 milliseconds with 0 bytes received",position:{start:{line:13,column:8,offset:290},end:{line:13,column:92,offset:374}}}],position:{start:{line:13,column:8,offset:290},end:{line:13,column:92,offset:374}}}],id:"2-curl-error-28-operation-timed-out-after-120002-milliseconds-with-0-bytes-received"},{depth:3,text:"3. Google service account JSON file not found",rich:[{type:"text",value:"3. ",position:{start:{line:24,column:5,offset:669},end:{line:24,column:8,offset:672}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"Google service account JSON file not found",position:{start:{line:24,column:8,offset:672},end:{line:24,column:52,offset:716}}}],position:{start:{line:24,column:8,offset:672},end:{line:24,column:52,offset:716}}}],id:"3-google-service-account-json-file-not-found"},{depth:3,text:"4. 403 Permission denied (Google Cloud)",rich:[{type:"text",value:"4. ",position:{start:{line:35,column:5,offset:977},end:{line:35,column:8,offset:980}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"403 Permission denied",position:{start:{line:35,column:8,offset:980},end:{line:35,column:31,offset:1003}}}],position:{start:{line:35,column:8,offset:980},end:{line:35,column:31,offset:1003}}},{type:"text",value:" (Google Cloud)",position:{start:{line:35,column:31,offset:1003},end:{line:35,column:46,offset:1018}}}],id:"4-403-permission-denied-google-cloud"},{depth:3,text:"5. 429 Rate limit exceeded (Gemini)",rich:[{type:"text",value:"5. ",position:{start:{line:43,column:5,offset:1217},end:{line:43,column:8,offset:1220}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"429 Rate limit exceeded",position:{start:{line:43,column:8,offset:1220},end:{line:43,column:33,offset:1245}}}],position:{start:{line:43,column:8,offset:1220},end:{line:43,column:33,offset:1245}}},{type:"text",value:" (Gemini)",position:{start:{line:43,column:33,offset:1245},end:{line:43,column:42,offset:1254}}}],id:"5-429-rate-limit-exceeded-gemini"},{depth:3,text:"6. Job stuck / processing never completes",id:"6-job-stuck--processing-never-completes"},{depth:3,text:"7. 504 Gateway Timeout on web request",rich:[{type:"text",value:"7. ",position:{start:{line:62,column:5,offset:1682},end:{line:62,column:8,offset:1685}}},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"504 Gateway Timeout",position:{start:{line:62,column:8,offset:1685},end:{line:62,column:29,offset:1706}}}],position:{start:{line:62,column:8,offset:1685},end:{line:62,column:29,offset:1706}}},{type:"text",value:" on web request",position:{start:{line:62,column:29,offset:1706},end:{line:62,column:44,offset:1721}}}],id:"7-504-gateway-timeout-on-web-request"},{depth:3,text:"8. TTS works in Tinker but not in queue",id:"8-tts-works-in-tinker-but-not-in-queue"}]},{depth:2,text:"Logs",id:"logs"},{depth:2,text:"Useful Commands",id:"useful-commands"}]}],d={lastModifiedTime:"2026-02-27T08:47:49.886Z"},c="pages/09-troubleshooting.md";function s(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...t(),...n.components};return e.jsxs(e.Fragment,{children:[e.jsx(i.h1,{id:"09--troubleshooting",children:"09 – Troubleshooting"}),`
`,e.jsx(i.h2,{id:"common-errors",children:"Common Errors"}),`
`,e.jsxs(i.h3,{id:"1-vertex-ai-api-has-not-been-used-in-project--before-or-it-is-disabled",children:["1. ",e.jsx(i.code,{inline:"true",children:"Vertex AI API has not been used in project ... before or it is disabled"})]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Vertex AI API not enabled in Google Cloud."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),": Google Cloud Console → APIs & Services → Library → Enable ",e.jsx(i.strong,{children:"Vertex AI API"}),"."]}),`
`,e.jsx(i.hr,{}),`
`,e.jsxs(i.h3,{id:"2-curl-error-28-operation-timed-out-after-120002-milliseconds-with-0-bytes-received",children:["2. ",e.jsx(i.code,{inline:"true",children:"cURL error 28: Operation timed out after 120002 milliseconds with 0 bytes received"})]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": TTS request timed out; sometimes slow or hanging response from Google."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),":"]}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:["Increase ",e.jsx(i.code,{inline:"true",children:"GEMINI_TIMEOUT"})," to 180 or 240 in ",e.jsx(i.code,{inline:"true",children:".env"})]}),`
`,e.jsxs(i.li,{children:["Ensure queue worker runs with ",e.jsx(i.code,{inline:"true",children:"--timeout=600"})]}),`
`,e.jsxs(i.li,{children:["Ensure ",e.jsx(i.code,{inline:"true",children:"ProcessTextToAudioJob"})," and ",e.jsx(i.code,{inline:"true",children:"ProcessAudioTTSJob"})," have ",e.jsx(i.code,{inline:"true",children:"$timeout = 600"})]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsxs(i.h3,{id:"3-google-service-account-json-file-not-found",children:["3. ",e.jsx(i.code,{inline:"true",children:"Google service account JSON file not found"})]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Service account file missing or wrong path."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),":"]}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:["Place JSON at ",e.jsx(i.code,{inline:"true",children:"storage/app/google-service-account.json"}),", or"]}),`
`,e.jsxs(i.li,{children:["Set ",e.jsx(i.code,{inline:"true",children:"GOOGLE_SERVICE_ACCOUNT_JSON"})," (base64) in ",e.jsx(i.code,{inline:"true",children:".env"}),", or"]}),`
`,e.jsxs(i.li,{children:["Set ",e.jsx(i.code,{inline:"true",children:"GOOGLE_SERVICE_ACCOUNT_PATH"})," to correct path"]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsxs(i.h3,{id:"4-403-permission-denied-google-cloud",children:["4. ",e.jsx(i.code,{inline:"true",children:"403 Permission denied"})," (Google Cloud)"]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Service account missing roles."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),": Add roles: Cloud Translation API User, Cloud Text-to-Speech User, Service Usage Consumer. Optionally Vertex AI User if needed."]}),`
`,e.jsx(i.hr,{}),`
`,e.jsxs(i.h3,{id:"5-429-rate-limit-exceeded-gemini",children:["5. ",e.jsx(i.code,{inline:"true",children:"429 Rate limit exceeded"})," (Gemini)"]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": TTS quota exceeded."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),": Wait for quota reset, or upgrade Google Cloud. App has rate limiting (60/min per user)."]}),`
`,e.jsx(i.hr,{}),`
`,e.jsx(i.h3,{id:"6-job-stuck--processing-never-completes",children:"6. Job stuck / processing never completes"}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Queue worker not running or killed before job finishes."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),":"]}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:["Ensure ",e.jsx(i.code,{inline:"true",children:"php artisan queue:work database --timeout=600"})," is running"]}),`
`,e.jsx(i.li,{children:"Check worker logs"}),`
`,e.jsxs(i.li,{children:["Check ",e.jsx(i.code,{inline:"true",children:"storage/logs/laravel.log"})," for job errors"]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsxs(i.h3,{id:"7-504-gateway-timeout-on-web-request",children:["7. ",e.jsx(i.code,{inline:"true",children:"504 Gateway Timeout"})," on web request"]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Web server timeout; job runs in background but user waits for redirect."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),": Jobs run async; user should be redirected to status page. If upload itself times out, increase PHP ",e.jsx(i.code,{inline:"true",children:"max_execution_time"})," and web server timeout."]}),`
`,e.jsx(i.hr,{}),`
`,e.jsx(i.h3,{id:"8-tts-works-in-tinker-but-not-in-queue",children:"8. TTS works in Tinker but not in queue"}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Cause"}),": Queue worker may have different environment or timeout."]}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"Fix"}),":"]}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:["Ensure worker ",e.jsx(i.code,{inline:"true",children:"--timeout=600"})]}),`
`,e.jsxs(i.li,{children:["Ensure job ",e.jsx(i.code,{inline:"true",children:"$timeout = 600"})]}),`
`,e.jsxs(i.li,{children:["Run ",e.jsx(i.code,{inline:"true",children:"php artisan config:clear"})," and ",e.jsx(i.code,{inline:"true",children:"php artisan cache:clear"})," after config changes"]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsx(i.h2,{id:"logs",children:"Logs"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{children:e.jsxs(i.code,{className:"language-bash shiki shiki-themes github-light github-dark",inline:"false",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Windows"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"Get-Content"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" storage/logs/laravel.log"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -Tail"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 50"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Linux/Mac"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"tail"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -f"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" storage/logs/laravel.log"})]})]})})}),`
`,e.jsx(i.h2,{id:"useful-commands",children:"Useful Commands"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{children:e.jsxs(i.code,{className:"language-bash shiki shiki-themes github-light github-dark",inline:"false",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"php"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" artisan"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" config:clear"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"php"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" artisan"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cache:clear"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"php"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" artisan"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" queue:failed"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"php"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" artisan"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" queue:retry"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" all"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"php"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" artisan"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tinker"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"   # Test services manually"})]})]})})})]})}function h(n={}){const{wrapper:i}={...t(),...n.components};return i?e.jsx(i,{...n,children:e.jsx(s,{...n})}):s(n)}export{c as __filepath,h as default,r as excerpt,d as frontmatter,o as tableOfContents};
//# sourceMappingURL=09-troubleshooting-55BJgb8j.js.map
