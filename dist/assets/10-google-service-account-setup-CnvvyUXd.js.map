{"version":3,"file":"10-google-service-account-setup-CnvvyUXd.js","sources":["../../pages/10-google-service-account-setup.md"],"sourcesContent":["# 10 – Google Service Account Setup\r\n\r\nStep-by-step guide to set up or change the Google Cloud service account for Translation and TTS.\r\n\r\n---\r\n\r\n## 1. Sign in with the correct account\r\n\r\n1. Go to [Google Cloud Console](https://console.cloud.google.com).\r\n2. Sign in with the Google account you want to use.\r\n3. Select the project (or create a new one).\r\n\r\n---\r\n\r\n## 2. Billing\r\n\r\n- **Billing** → **Link a billing account**.\r\n- Translation API v3 requires billing (free tier is usually sufficient).\r\n\r\n---\r\n\r\n## 3. Enable APIs\r\n\r\nGo to **APIs & Services** → **Library** and enable:\r\n\r\n- **Cloud Translation API**\r\n- **Cloud Text-to-Speech API**\r\n- **Vertex AI API** (required for Gemini TTS)\r\n\r\n---\r\n\r\n## 4. Create service account\r\n\r\n1. **IAM & Admin** → **Service Accounts**.\r\n2. **Create Service Account**.\r\n3. Name: e.g. `audio-translation` → **Create and continue**.\r\n\r\n---\r\n\r\n## 5. Assign roles\r\n\r\nUnder *Grant this service account access to project*, add:\r\n\r\n- **Cloud Translation API User**\r\n- **Cloud Text-to-Speech User**\r\n- **Service Usage Consumer**\r\n\r\nClick **Done**.\r\n\r\n---\r\n\r\n## 6. Create JSON key\r\n\r\n1. Open the new service account.\r\n2. **Keys** tab → **Add key** → **Create new key** → **JSON**.\r\n3. Download the JSON file.\r\n\r\n---\r\n\r\n## 7. Note your Project ID\r\n\r\n- **IAM & Admin** → **Project Settings**.\r\n- Copy the **Project ID** (not the Project Number).\r\n\r\n---\r\n\r\n## 8. Configure in the app\r\n\r\n### Option A: File (local / VPS)\r\n\r\n1. Place the JSON file at: `storage/app/google-service-account.json`\r\n2. In `.env`:\r\n\r\n```env\r\nGOOGLE_CLOUD_PROJECT_ID=your-project-id\r\n```\r\n\r\nOptional custom path:\r\n\r\n```env\r\nGOOGLE_SERVICE_ACCOUNT_PATH=/path/to/credentials.json\r\n```\r\n\r\n### Option B: Environment variable (no file on server)\r\n\r\n1. Encode the JSON to base64:\r\n   - **Windows (PowerShell):**\r\n     ```powershell\r\n     [Convert]::ToBase64String([IO.File]::ReadAllBytes(\"path\\to\\credentials.json\"))\r\n     ```\r\n   - **Linux/Mac:**\r\n     ```bash\r\n     base64 -i credentials.json\r\n     ```\r\n2. Add to `.env`:\r\n\r\n```env\r\nGOOGLE_SERVICE_ACCOUNT_JSON=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50Ii...\r\nGOOGLE_CLOUD_PROJECT_ID=your-project-id\r\n```\r\n\r\n---\r\n\r\n## 9. Clear cache and test\r\n\r\n```bash\r\nphp artisan config:clear\r\nphp artisan cache:clear\r\n```\r\n\r\nTest a translation or TTS in the app. Check `storage/logs/laravel.log` if anything fails.\r\n\r\n---\r\n\r\n## Summary\r\n\r\n| Step | Action |\r\n|------|--------|\r\n| 1 | Sign in with correct Google account in Cloud Console |\r\n| 2 | Link billing |\r\n| 3 | Enable Cloud Translation API, Cloud Text-to-Speech API, Vertex AI API |\r\n| 4 | Create service account |\r\n| 5 | Assign roles (Translation, TTS, Service Usage) |\r\n| 6 | Create and download JSON key |\r\n| 7 | Note Project ID |\r\n| 8 | Add JSON file or base64 in `.env` |\r\n| 9 | Run `config:clear` and `cache:clear`, then test |\r\n"],"names":["_jsx","_components","_jsxs"],"mappings":"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"}